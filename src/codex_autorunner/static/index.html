<!DOCTYPE html>

<html lang="en">
<head>
<script data-car-bootstrap="" src="static/bootstrap.js?v=__CAR_ASSET_VERSION__"></script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="#0a0c12" name="theme-color"/>
<title>Codex Autorunner</title>
</head>
<body>
<div class="hub-shell hidden" id="hub-shell">
<header class="hub-hero">
<div class="hub-hero-text">
<h1>CAR Hub</h1>
<span class="pill pill-small pill-idle" id="hub-last-scan">â€“</span>
<span class="hub-version" id="hub-version">vâ€“</span>
</div>
<div class="hub-hero-actions">
<button class="primary sm" id="hub-new-repo">+ New</button>
<button class="sm" id="hub-scan">Scan</button>
<button class="ghost sm" id="hub-refresh">Refresh</button>
<button class="ghost sm icon-btn" id="hub-settings" title="Settings">âš™</button>
</div>
</header>
<section class="hub-stats">
<div class="hub-stat">
<div class="hub-stat-value" id="hub-count-total">â€“</div>
<p class="muted small">repos</p>
</div>
<div class="hub-stat">
<div class="hub-stat-value" id="hub-count-running">â€“</div>
<p class="muted small">running</p>
</div>
<div class="hub-stat">
<div class="hub-stat-value" id="hub-count-missing">â€“</div>
<p class="muted small">missing</p>
</div>
</section>
<section class="hub-inbox">
<div class="hub-panel-header">
<span class="label">Inbox</span>
<div class="hub-panel-actions">
<button class="ghost sm" id="hub-inbox-refresh">Refresh</button>
</div>
</div>
<div class="hub-inbox-list" id="hub-inbox-list">Loadingâ€¦</div>
</section>
<section class="hub-usage-compact">
<div class="hub-usage-header">
<span class="label">Usage</span>
<span class="hub-usage-path" id="hub-usage-meta">â€“</span>
<button class="ghost sm icon-btn" id="hub-usage-refresh" title="Refresh usage">â†»</button>
</div>
<div class="hub-usage-grid" id="hub-usage-list">Loadingâ€¦</div>
</section>
<section class="hub-usage-chart">
<div class="hub-usage-chart-header">
<span class="label">Usage Trend</span>
<div class="usage-chart-controls">
<select aria-label="Range" class="usage-chart-select" id="hub-usage-chart-range" title="Range">
<option value="7">1w</option>
<option selected="" value="30">1m</option>
<option value="90">3m</option>
<option value="180">6m</option>
<option value="365">1y</option>
</select>
<select aria-label="Group" class="usage-chart-select" id="hub-usage-chart-segment" title="Group">
<option value="none">Total</option>
<option value="repo">By repo</option>
<option value="agent">By agent</option>
</select>
</div>
</div>
<div class="usage-chart-canvas hub-usage-chart-canvas" id="hub-usage-chart-canvas"></div>
</section>
<section class="hub-repo-panel">
<div class="hub-panel-header">
<span class="label">Repositories</span>
<div class="hub-panel-actions">
<button class="ghost sm" id="hub-quick-scan">Rescan</button>
</div>
</div>
<div class="hub-repo-list" id="hub-repo-list">
<div class="muted small">Loadingâ€¦</div>
</div>
</section>
</div>
<div class="app-shell" id="repo-shell">
<nav class="nav-bar">
<span class="nav-brand">CAR</span>
<div class="tabs">
<!-- Tabs will be injected here by tabs.js -->
</div>
<div class="nav-actions">
<button class="ghost sm icon-btn inbox-btn" id="repo-inbox-btn" title="Inbox">
ğŸ””
<span class="badge hidden" id="repo-inbox-badge"></span>
</button>
<button class="ghost sm icon-btn" id="repo-settings" title="Settings">âš™</button>
</div>
</nav>
<main>
<section class="panel active" id="dashboard">
<div class="cards">
<div class="card status-card">
<div class="card-header">
<div class="card-header-left">
<span class="label">Runner Status</span>
<span class="version-label" id="repo-version">vâ€“</span>
</div>
<span class="pill pill-idle" id="runner-status">idle</span>
</div>
<div class="grid-two">
<div>
<p class="muted">Run ID</p>
<p class="metric" id="last-run-id">â€“</p>
</div>
<div>
<p class="muted">Exit</p>
<p class="metric" id="last-exit-code">â€“</p>
</div>
<div>
<p class="muted">Started</p>
<p class="metric" id="last-start">â€“</p>
</div>
<div>
<p class="muted">Finished</p>
<p class="metric" id="last-finish">â€“</p>
</div>
<div>
<p class="muted">TODO</p>
<p class="metric" id="todo-count">â€“</p>
</div>
<div>
<p class="muted">Done</p>
<p class="metric" id="done-count">â€“</p>
</div>
</div>
<div class="doc-agent-controls dashboard-agent-controls">
<select id="dashboard-agent-select" title="Agent"></select>
<select id="dashboard-model-select" title="Model"></select>
<select id="dashboard-reasoning-select" title="Reasoning"></select>
</div>
<div class="actions">
<button class="primary" id="start-run" title="Run a full autorunner iteration through all tasks">Start</button>
<button class="ghost" id="stop-run" title="Gracefully stop the current run (safe shutdown)">Stop</button>
<button class="danger" id="kill-run" title="Immediately terminate the run (force stop - may cause data loss)">Kill</button>
<button class="ghost hidden" id="clear-lock" title="Clear a stale autorunner lock">Clear lock</button>
<button class="ghost" id="reset-runner" title="Clear run state and restart fresh (destructive)">Reset</button>
<button class="ghost icon-btn" id="refresh-state" title="Refresh state">â†»</button>
</div>
<p class="muted small" id="runner-pid">PID: â€“</p>
</div>
<div class="card usage-card-compact">
<div class="usage-header">
<span class="label">Usage</span>
<span class="usage-total-badge" id="usage-total">â€“</span>
<span class="usage-events-badge" id="usage-events">â€“</span>
<button class="ghost sm icon-btn" id="usage-refresh" title="Refresh usage">â†»</button>
</div>
<div class="usage-breakdown">
<div class="usage-stat">
<span class="usage-stat-val" id="usage-input">â€“</span>
<span class="usage-stat-lbl">in</span>
</div>
<div class="usage-stat usage-stat-cached">
<span class="usage-stat-val" id="usage-cached">â€“</span>
<span class="usage-stat-lbl">cached</span>
</div>
<div class="usage-stat">
<span class="usage-stat-val" id="usage-output">â€“</span>
<span class="usage-stat-lbl">out</span>
</div>
<div class="usage-stat">
<span class="usage-stat-val" id="usage-reasoning">â€“</span>
<span class="usage-stat-lbl">reason</span>
</div>
</div>
<div class="usage-chart">
<div class="usage-chart-header">
<span class="usage-chart-title">Trend</span>
<div class="usage-chart-controls">
<select aria-label="Range" class="usage-chart-select" id="usage-chart-range" title="Range">
<option value="7">1w</option>
<option selected="" value="30">1m</option>
<option value="90">3m</option>
<option value="180">6m</option>
<option value="365">1y</option>
</select>
<select aria-label="Group" class="usage-chart-select" id="usage-chart-segment" title="Group">
<option value="none">Total</option>
<option value="agent">Agent</option>
<option value="model">Model</option>
<option value="token_type">Token type</option>
<option value="model_token">Model + type</option>
</select>
</div>
</div>
<div class="usage-chart-canvas" id="usage-chart-canvas"></div>
</div>
<div class="usage-rates-visual">
<div class="usage-rate-row">
<span class="usage-rate-label">Primary</span>
<div class="usage-rate-bar-container" id="usage-rate-primary"></div>
</div>
<div class="usage-rate-row">
<span class="usage-rate-label">Secondary</span>
<div class="usage-rate-bar-container" id="usage-rate-secondary"></div>
</div>
</div>
<div class="usage-footer">
<span class="hidden" id="usage-rates">â€“</span>
<span id="usage-meta">â€“</span>
</div>
</div>
<div class="card todo-preview">
<div class="card-header">
<span class="label">TODO</span>
<button class="primary sm hidden" id="open-summary" title="Open final report (SUMMARY)">Summary</button>
<button class="ghost sm icon-btn" id="refresh-preview" title="Refresh TODO preview">â†»</button>
</div>
<ul class="checklist" id="todo-preview-list"></ul>
</div>
<div class="card github-card" id="github-card">
<div class="card-header">
<span class="label">GitHub</span>
<span class="pill pill-idle" id="github-status-pill">â€“</span>
</div>
<div class="github-grid">
<div class="github-row">
<span class="muted">Repo</span>
<a class="github-link muted" id="github-repo-link">â€“</a>
</div>
<div class="github-row">
<span class="muted">Branch</span>
<span class="github-mono" id="github-branch">â€“</span>
</div>
<div class="github-row">
<span class="muted">Issue</span>
<a class="github-link muted" id="github-issue-link">â€“</a>
</div>
<div class="github-row">
<span class="muted">PR</span>
<span class="github-pr-group">
<a class="github-link muted" id="github-pr-link">â€“</a>
<button class="ghost icon-btn-inline" disabled="" id="github-open-pr-files" title="View changed files">ğŸ“„</button>
<button class="ghost icon-btn-inline" disabled="" id="github-copy-pr" title="Copy PR link">ğŸ“‹</button>
</span>
</div>
</div>
<div class="actions github-actions">
<button class="primary sm" id="github-sync-pr">Sync PR</button>
</div>
<div class="github-flow">
<div class="github-flow-header">
<span class="muted">PR Flow</span>
<span class="pill pill-idle" id="pr-flow-status">â€“</span>
</div>
<div class="github-flow-grid">
<label class="muted" for="pr-flow-mode">Mode</label>
<select id="pr-flow-mode">
<option value="issue">Implement Issue â†’ PR</option>
<option value="pr">Fix Existing PR</option>
</select>
<label class="muted" for="pr-flow-ref">Issue / PR</label>
<input autocomplete="off" id="pr-flow-ref" placeholder="#123 or https://github.com/org/repo/issues/123" spellcheck="false" type="text"/>
<label class="muted" for="pr-flow-base">Base</label>
<input autocomplete="off" id="pr-flow-base" placeholder="default" spellcheck="false" type="text"/>
<label class="muted" for="pr-flow-until">Until</label>
<select id="pr-flow-until">
<option value="no_issues">No issues</option>
<option value="minor_only">Minor only</option>
</select>
<label class="muted" for="pr-flow-cycles">Max cycles</label>
<input id="pr-flow-cycles" min="1" placeholder="3" type="number"/>
<label class="muted" for="pr-flow-runs">Impl runs</label>
<input id="pr-flow-runs" min="1" placeholder="auto" type="number"/>
<label class="muted" for="pr-flow-timeout">Timeout (s)</label>
<input id="pr-flow-timeout" min="0" placeholder="auto" type="number"/>
<label class="muted" for="pr-flow-draft">Draft</label>
<input checked="" id="pr-flow-draft" type="checkbox"/>
</div>
<div class="actions github-flow-actions">
<button class="primary sm" id="pr-flow-start">Start</button>
<button class="ghost sm" id="pr-flow-stop">Stop</button>
<button class="ghost sm" id="pr-flow-resume">Resume</button>
</div>
<div class="github-flow-status">
<div class="github-flow-row">
<span class="muted">Step</span>
<span class="github-mono" id="pr-flow-step">â€“</span>
</div>
<div class="github-flow-row">
<span class="muted">Cycle</span>
<span class="github-mono" id="pr-flow-cycle">â€“</span>
</div>
<div class="github-flow-row">
<span class="muted">Feedback</span>
<span class="github-mono" id="pr-flow-review">â€“</span>
</div>
</div>
<div class="github-flow-artifacts">
<a class="github-link muted" id="pr-flow-spec-link">Spec</a>
<a class="github-link muted" id="pr-flow-progress-link">Progress</a>
<a class="github-link muted" id="pr-flow-patch-link">Patch diff</a>
<a class="github-link muted" id="pr-flow-logs-link">Logs</a>
<a class="github-link muted" id="pr-flow-final-link">Final report</a>
</div>
</div>
<p class="muted small" id="github-note">â€“</p>
</div>
</div>

<div class="card review-card" id="review-card">
<div class="card-header">
<span class="label">Review</span>
<span class="pill pill-idle" id="review-status-pill">â€“</span>
</div>
<div class="review-grid">
<div class="review-row">
<span class="muted">Run ID</span>
<span class="review-mono" id="review-run-id">â€“</span>
</div>
<div class="review-row">
<span class="muted">Started</span>
<span class="review-mono" id="review-started">â€“</span>
</div>
<div class="review-row">
<span class="muted">Finished</span>
<span class="review-mono" id="review-finished">â€“</span>
</div>
</div>
<div class="review-controls">
<div class="review-inputs">
<div class="review-input-row">
<label class="muted" for="review-agent">Agent</label>
<input id="review-agent" spellcheck="false" type="text" value="opencode"/>
</div>
<div class="review-input-row">
<label class="muted" for="review-model">Model</label>
<input id="review-model" spellcheck="false" type="text" value="zai-coding-plan/glm-4.7"/>
</div>
<div class="review-input-row">
<label class="muted" for="review-reasoning">Reasoning</label>
<input id="review-reasoning" placeholder="auto" spellcheck="false" type="text"/>
</div>
<div class="review-input-row">
<label class="muted" for="review-timeout">Timeout (s)</label>
<input id="review-timeout" min="60" placeholder="auto" spellcheck="false" type="number"/>
</div>
</div>
<div class="review-buttons">
<button class="primary sm" id="review-start">Start</button>
<button class="ghost sm" id="review-stop">Stop</button>
<button class="ghost sm" id="review-reset">Reset</button>
</div>
</div>
<div class="review-artifacts">
<a class="review-link muted" id="review-final-link">Final report</a>
<a class="review-link muted" id="review-log-link">Log</a>
<a class="review-link muted" id="review-scratchpad-link">Scratchpad</a>
</div>
</div>
</section>
<section class="panel" id="messages">
<div class="cards">
<div class="card">
<div class="card-header">
<div class="card-header-left">
<span class="label">Inbox</span>
</div>
<button class="ghost sm" id="messages-refresh">Refresh</button>
</div>
<div class="messages-layout">
<div class="messages-sidebar">
<div class="messages-thread-list" id="messages-thread-list"></div>
</div>
<div class="messages-main">
<div class="messages-thread-detail" id="messages-thread-detail"><div class="muted">Select a thread</div></div>
<div class="messages-reply-box">
<textarea class="messages-reply-body" id="messages-reply-body" placeholder="Write a replyâ€¦"></textarea>
<div class="messages-reply-row">
<input type="file" id="messages-reply-files" multiple />
<div class="messages-reply-actions">
<button class="primary sm" id="messages-reply-send">Send</button>
<button class="sm" id="messages-reply-send-resume">Send &amp; Resume</button>
<button class="sm" id="messages-resume" disabled>Resume</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="panel" id="docs">
<div class="doc-nav">
<button class="chip active" data-doc="todo">TODO</button>
<button class="chip" data-doc="progress">PROGRESS</button>
<button class="chip" data-doc="opinions">OPINIONS</button>
<button class="chip" data-doc="spec">SPEC</button>
<button class="chip" data-doc="summary">SUMMARY</button>
<button class="chip" data-doc="snapshot">SNAPSHOT</button>
<span class="muted" id="doc-status"></span>
</div>
<div class="doc-banner hidden" id="doc-thread-registry-banner">
<div class="doc-banner-text">
<div class="doc-banner-title">
                Conversation state reset due to corrupted registry.
              </div>
<div class="doc-banner-detail muted small" id="doc-thread-registry-detail"></div>
</div>
<div class="doc-banner-actions">
<button class="ghost sm" id="doc-thread-registry-reset">Reset conversations</button>
<button class="ghost sm" id="doc-thread-registry-download">Download backup</button>
</div>
</div>
<div class="spec-issue-import hidden" id="spec-issue-import">
<button class="ghost sm" id="spec-issue-import-toggle">Import Issue â†’ SPEC</button>
<div class="spec-issue-input-row hidden" id="spec-issue-input-row">
<input autocomplete="off" id="spec-issue-input" placeholder="Issue number or URL (e.g. 123 or https://github.com/org/repo/issues/123)" spellcheck="false" type="text"/>
<button class="primary sm" id="spec-issue-import-btn">Import</button>
</div>
</div>
<div class="doc-editor">
<div class="doc-patch-main hidden" id="spec-ingest-patch-main">
<div class="doc-patch-header">
<div class="doc-patch-info">
<div class="muted small">Spec ingest patch</div>
<div class="doc-patch-summary" id="spec-ingest-patch-summary"></div>
<div class="doc-patch-legend">
<span class="doc-patch-legend-item doc-patch-legend-add">Added</span>
<span class="doc-patch-legend-item doc-patch-legend-del">Removed</span>
</div>
</div>
<div class="doc-patch-actions">
<button class="primary sm" id="spec-ingest-patch-apply">Apply Patch</button>
<button class="ghost sm" id="spec-ingest-patch-reload">Reload</button>
<button class="danger sm" id="spec-ingest-patch-discard">Discard</button>
</div>
</div>
<div class="doc-patch-body" id="spec-ingest-patch-body">(no patch)</div>
</div>
<div class="doc-patch-main hidden" id="doc-patch-main">
<div class="doc-patch-header">
<div class="doc-patch-info">
<div class="muted small">Pending draft</div>
<div class="doc-patch-summary" id="doc-patch-summary"></div>
<div class="doc-patch-meta" id="doc-patch-meta"></div>
<div class="doc-patch-legend">
<span class="doc-patch-legend-item doc-patch-legend-add">Added</span>
<span class="doc-patch-legend-item doc-patch-legend-del">Removed</span>
</div>
</div>
<div class="doc-patch-actions">
<button class="primary sm" id="doc-patch-apply">Apply Draft</button>
<button aria-pressed="false" class="ghost sm" id="doc-patch-preview">Preview draft</button>
<button class="ghost sm" id="doc-patch-reload">Reload</button>
<button class="danger sm" id="doc-patch-discard">Discard</button>
</div>
</div>
<div class="doc-patch-body" id="doc-patch-body">(no draft)</div>
</div>
<textarea id="doc-content" spellcheck="false"></textarea>
<div class="doc-actions" id="doc-actions-standard">
<button class="primary" data-short="Save" id="save-doc">Save</button>
<button class="ghost" data-short="Reload" id="reload-doc">Reload</button>
<button class="ghost hidden" data-short="Copy" id="doc-copy">Copy</button>
<button class="ghost hidden" data-short="Paste" id="spec-paste">Paste</button>
<button class="ghost hidden" data-short="Ingest" id="ingest-spec">Ingest SPEC â†’ Docs</button>
<button class="danger hidden" data-short="Clear" id="clear-docs">Clear TODO/PROGRESS/OPINIONS</button>
</div>
<div class="doc-actions hidden" id="doc-actions-snapshot">
<button class="primary" data-short="Run" id="snapshot-generate">Run snapshot</button>
<button class="ghost" data-short="Copy" id="snapshot-copy">Copy</button>
<button class="ghost" data-short="Reload" id="snapshot-refresh">Reload</button>
</div>
<div class="doc-chat-panel compose-panel">
<div class="doc-chat-compose">
<div class="doc-agent-controls">
<select id="doc-agent-select" title="Agent"></select>
<select id="doc-model-select" title="Model"></select>
<select id="doc-reasoning-select" title="Reasoning"></select>
</div>
<div class="doc-chat-input-row compose-row">
<textarea enterkeyhint="enter" id="doc-chat-input" placeholder="Chat about the work docs..." rows="1" spellcheck="false"></textarea>
<div class="doc-chat-input-buttons compose-buttons">
<button class="ghost sm voice-button" id="doc-chat-voice" title="Hold to talk"></button>
<button class="primary sm" id="doc-chat-send" title="Send">â†‘</button>
</div>
</div>
<div class="doc-chat-meta">
<div class="doc-chat-meta-left">
<span class="muted small" id="doc-chat-hint">Cmd+Enter/Ctrl+Enter to send Â· Enter for newline</span>
<span class="muted small hidden voice-status" id="doc-chat-voice-status"></span>
</div>
<div class="doc-chat-meta-right">
<button class="ghost sm hidden doc-chat-cancel-inline" id="doc-chat-cancel" title="Cancel">âœ•</button>
<button class="ghost sm" id="doc-chat-new-thread" title="Start a new chat thread">New thread</button>
<span class="pill pill-idle" id="doc-chat-status">idle</span>
</div>
</div>
</div>
<div class="doc-chat-stream" id="doc-chat-stream">
<div class="doc-chat-error hidden" id="doc-chat-error"></div>
<div class="doc-chat-events hidden" id="doc-chat-events">
<div class="doc-chat-section-header">
<div class="doc-chat-section-title">
                      Agent updates
                      <span class="doc-chat-count" id="doc-chat-events-count">0</span>
</div>
<button class="ghost sm hidden" id="doc-chat-events-toggle">
                      Show more
                    </button>
</div>
<div class="doc-chat-events-list" id="doc-chat-events-list"></div>
</div>
<div class="doc-chat-section-header">
<div class="doc-chat-section-title">
                    History
                    <span class="doc-chat-count" id="doc-chat-history-count">0</span>
</div>
</div>
<div class="doc-chat-history" id="doc-chat-history"></div>
</div>
</div>
</div>
</section>
<section class="panel" id="logs">
<div class="inline-toolbar">
<label class="chip" data-short="Sum">
<input checked="" id="log-show-summary" type="checkbox"/>
<span>Summary</span>
</label>
<label>Run <input id="log-run-id" min="1" placeholder="latest" type="number"/></label>
<label>Tail <input id="log-tail" min="10" type="number" value="200"/></label>
<button class="primary sm" id="load-logs">Load</button>
<button class="ghost sm" id="toggle-log-stream">Stream</button>
<span class="log-stream-status" id="log-stream-status"></span>
<label class="chip" data-short="TS">
<input checked="" id="log-show-timestamp" type="checkbox"/>
<span>Timestamp</span>
</label>
<label class="chip" data-short="Run">
<input id="log-show-run" type="checkbox"/>
<span>Run</span>
</label>
</div>
<div class="log-legend">
<span class="log-legend-item"><span class="log-legend-dot thinking"></span>Thinking</span>
<span class="log-legend-item"><span class="log-legend-dot exec"></span>Tool calls</span>
<span class="log-legend-item"><span class="log-legend-dot file"></span>File updates</span>
<span class="log-legend-item"><span class="log-legend-dot diff-add"></span>Added</span>
<span class="log-legend-item"><span class="log-legend-dot diff-del"></span>Removed</span>
<span class="log-legend-item"><span class="log-legend-dot output"></span>Agent output</span>
<span class="log-legend-item"><span class="log-legend-dot context"></span>Context</span>
</div>
<div class="log-container">
<button class="log-load-btn hidden" id="log-load-older" title="Load older logs">Load older</button>
<pre class="log-viewer" id="log-output">(no log loaded)</pre>
<button class="log-jump-btn hidden" id="log-jump-bottom" title="Jump to latest">â†“ Latest</button>
</div>
</section>
<section class="panel" id="runs">
<div class="inline-toolbar runs-toolbar">
<button class="primary sm" id="runs-refresh">Refresh</button>
<label>
              Attribution
              <select id="runs-attribution-mode">
<option value="split">Split (default)</option>
<option value="full">Full (upper bound)</option>
</select>
</label>
<label>
              TODO filter
              <input id="runs-todo-search" placeholder="Search TODOs" type="text"/>
</label>
</div>
<div class="runs-layout">
<div class="runs-card">
<div class="runs-card-header">
<span class="label">Runs</span>
</div>
<table class="runs-table">
<thead>
<tr>
<th>Run</th>
<th>Status</th>
<th>Started</th>
<th>Model</th>
<th>Tokens</th>
<th>Completed TODOs</th>
</tr>
</thead>
<tbody id="runs-table-body"></tbody>
</table>
</div>
<div class="runs-card">
<div class="runs-card-header runs-card-header-inline">
<span class="label">Tokens per TODO</span>
<span class="muted small" id="runs-todo-summary">â€“</span>
</div>
<div class="runs-todo-list" id="runs-todo-list">No TODOs yet.</div>
</div>
</div>
</section><div class="panel" id="tickets"><h2>Tickets</h2><div class="card ticket-card" id="ticket-card">
<div class="card-header">
<div class="card-header-left ticket-header-left">
<span class="label">Ticket Flow</span>
<span class="muted small ticket-mono" id="ticket-flow-run">â€“</span>
</div>
<span class="pill pill-idle" id="ticket-flow-status">idle</span>
</div>
<div class="ticket-flow-actions">
<button class="primary sm" id="ticket-flow-bootstrap">Start Ticket Flow</button>
<button class="ghost sm" id="ticket-flow-stop">Stop</button>
<button class="ghost sm" id="ticket-flow-resume">Resume</button>
<button class="ghost sm icon-btn" id="ticket-flow-refresh" title="Refresh ticket flow">â†»</button>
</div>
<div class="ticket-flow-meta">
<div>
<span class="muted">Current ticket</span>
<span class="ticket-mono" id="ticket-flow-current">â€“</span>
</div>
<div>
<span class="muted">Reason</span>
<span class="ticket-mono ticket-flow-reason" id="ticket-flow-reason">â€“</span>
</div>
</div>
<div class="ticket-flow-grid">
<div class="ticket-panel">
<div class="ticket-panel-header">
<span class="muted">Tickets</span>
<span class="muted small" id="ticket-flow-dir">â€“</span>
</div>
<div class="ticket-list" id="ticket-flow-tickets">Loading ticketsâ€¦</div>
</div>
<div class="ticket-panel">
<div class="ticket-panel-header">
<span class="muted">Handoff history</span>
<span class="muted small" id="ticket-handoff-note">â€“</span>
</div>
<div class="ticket-list" id="ticket-handoff-history">No messages yet.</div>
</div>
</div>
</div></div>
<section class="panel" id="terminal">
<div class="terminal-toolbar">
<div class="terminal-toolbar-row terminal-toolbar-main">
<span class="terminal-status muted" id="terminal-status">Disconnected</span>
<div class="terminal-actions">
<button class="primary sm" id="terminal-connect">New</button>
<button class="ghost sm" id="terminal-resume">Resume</button>
<button class="ghost sm" id="terminal-disconnect">Disconnect</button>
</div>
</div>
<div class="terminal-toolbar-row terminal-toolbar-config">
<div class="terminal-agent-controls">
<select id="terminal-agent-select" title="Agent"></select>
<select id="terminal-model-select" title="Model"></select>
<select id="terminal-reasoning-select" title="Reasoning"></select>
</div>
<div class="terminal-toolbar-extras">
<button aria-controls="terminal-text-input" aria-expanded="false" class="ghost sm terminal-text-toggle" id="terminal-text-input-toggle" title="Text input" type="button">
<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24"><rect height="18" rx="2" width="18" x="3" y="3"></rect><line x1="7" x2="17" y1="12" y2="12"></line><line x1="7" x2="13" y1="8" y2="8"></line><line x1="7" x2="15" y1="16" y2="16"></line></svg>
<span class="terminal-text-toggle-label">Text</span>
</button>
<div class="terminal-voice">
<button class="ghost sm voice-button" id="terminal-voice" title="Hold to talk"></button>
<span class="muted small hidden voice-status" id="terminal-voice-status"></span>
</div>
</div>
</div>
</div>
<div class="terminal-container" id="terminal-container">
<div class="terminal-overlay" id="terminal-overlay">
<p class="muted">Press New or Resume to launch the agent TUI</p>
</div>
<button class="terminal-jump-btn hidden" id="terminal-jump-bottom" title="Jump to latest">
              â†“ Latest
            </button>
</div>
<!-- Mobile control bar - touch-friendly special keys (above text input) -->
<div class="terminal-mobile-controls" id="terminal-mobile-controls">
<div class="tmb-row">
<button class="tmb-key tmb-mod" data-key="ctrl" id="tmb-ctrl">Ctrl</button>
<button class="tmb-key tmb-mod" data-key="alt" id="tmb-alt">Alt</button>
<button class="tmb-key" data-seq="">Esc</button>
<button class="tmb-key" data-seq="	">Tab</button>
<button class="tmb-key tmb-primary" data-seq="
">Enter</button>
</div>
<div class="tmb-row">
<button class="tmb-key tmb-ctrl-combo" data-ctrl="c">^C</button>
<button class="tmb-key tmb-ctrl-combo" data-ctrl="d">^D</button>
<button class="tmb-key tmb-ctrl-combo" data-ctrl="z">^Z</button>
<button class="tmb-key tmb-bksp" data-seq="">Bksp</button>
<button class="tmb-key tmb-arrow" data-seq="[D">â†</button>
<button class="tmb-key tmb-arrow" data-seq="[A">â†‘</button>
<button class="tmb-key tmb-arrow" data-seq="[B">â†“</button>
<button class="tmb-key tmb-arrow" data-seq="[C">â†’</button>
</div>
</div>
<div aria-hidden="true" class="terminal-text-input compose-panel hidden" id="terminal-text-input">
<label class="terminal-text-input-title" for="terminal-textarea">Text input</label>
<div class="terminal-text-input-row compose-row">
<textarea autocapitalize="off" autocomplete="off" enterkeyhint="enter" id="terminal-textarea" placeholder="Type or paste text/images to send to the terminalâ€¦" rows="2" spellcheck="false"></textarea>
<div class="terminal-text-input-buttons compose-buttons">
<button aria-label="Attach image" class="ghost sm terminal-text-image" id="terminal-text-image" title="Attach image" type="button">Img</button>
<input accept="image/*" class="hidden" id="terminal-text-image-input" type="file"/>
<button class="ghost sm voice-button terminal-text-voice" data-voice-mode="waveform" id="terminal-text-voice" title="Hold to talk" type="button"></button>
<button aria-label="Send" class="primary terminal-text-send-icon" id="terminal-text-send" type="button">â†’</button>
</div>
</div>
</div>
</section>
</main>
</div>
<div class="toast" id="toast"></div>
<!-- Confirmation Modal -->
<div class="modal-overlay" hidden="" id="confirm-modal">
<div aria-describedby="confirm-modal-message" aria-labelledby="confirm-modal-title" aria-modal="true" class="modal-dialog" role="dialog" tabindex="-1">
<span class="sr-only" id="confirm-modal-title">Confirmation</span>
<p id="confirm-modal-message"></p>
<div class="modal-actions">
<button class="ghost" id="confirm-modal-cancel">Cancel</button>
<button class="danger" id="confirm-modal-ok">Confirm</button>
</div>
</div>
</div>
<!-- Input Modal -->
<div class="modal-overlay" hidden="" id="input-modal">
<div aria-describedby="input-modal-message" aria-labelledby="input-modal-title" aria-modal="true" class="modal-dialog modal-input" role="dialog" tabindex="-1">
<span class="sr-only" id="input-modal-title">Input</span>
<p id="input-modal-message"></p>
<input autocomplete="off" id="input-modal-input" spellcheck="false" type="text"/>
<div class="modal-actions">
<button class="ghost" id="input-modal-cancel">Cancel</button>
<button class="primary" id="input-modal-ok">OK</button>
</div>
</div>
</div>
<!-- Ingest Spec Modal -->
<div class="modal-overlay" hidden="" id="ingest-modal">
<div aria-describedby="ingest-modal-message" aria-labelledby="ingest-modal-title" aria-modal="true" class="modal-dialog modal-ingest" role="dialog" tabindex="-1">
<span class="sr-only" id="ingest-modal-title">Ingest Spec</span>
<div id="ingest-modal-content">
<p id="ingest-modal-message">Ready to ingest SPEC into TODO, PROGRESS, and OPINIONS?</p>
<div class="ingest-modal-refinement hidden" id="ingest-modal-refinement">
<textarea id="ingest-modal-input" placeholder="Refine the ingest (optional)..." rows="3" spellcheck="false"></textarea>
</div>
</div>
<div class="modal-actions">
<button class="ghost" id="ingest-modal-cancel">Cancel</button>
<button class="primary" id="ingest-modal-ok">Ingest</button>
</div>
</div>
</div>
<!-- Create Repo Modal -->
<div class="modal-overlay" hidden="" id="create-repo-modal">
<div aria-describedby="create-repo-modal-body" aria-labelledby="create-repo-modal-title" aria-modal="true" class="modal-dialog modal-create-repo" role="dialog" tabindex="-1">
<div class="modal-header">
<span class="label" id="create-repo-modal-title">Create New Repository</span>
</div>
<div class="modal-body" id="create-repo-modal-body">
<div class="form-group">
<label for="create-repo-id">Repo ID <span class="required">*</span></label>
<input autocomplete="off" id="create-repo-id" placeholder="my-project" spellcheck="false" type="text"/>
<span class="form-hint">Used as directory name if path not specified</span>
</div>
<div class="form-group">
<label for="create-repo-path">Path <span class="optional">(optional)</span></label>
<input autocomplete="off" id="create-repo-path" placeholder="relative/path/to/repo" spellcheck="false" type="text"/>
<span class="form-hint">Leave empty to use repo ID as path</span>
</div>
<div class="form-group">
<label for="create-repo-url">Git URL <span class="optional">(optional)</span></label>
<input autocomplete="off" id="create-repo-url" placeholder="https://github.com/org/repo.git" spellcheck="false" type="text"/>
<span class="form-hint">If provided, the repo will be cloned automatically</span>
</div>
<div class="form-group form-checkbox">
<label>
<input checked="" id="create-repo-git" type="checkbox"/>
<span>Initialize git repository</span>
</label>
</div>
</div>
<div class="modal-actions">
<button class="ghost" id="create-repo-cancel">Cancel</button>
<button class="primary" id="create-repo-submit">Create</button>
</div>
</div>
</div>
<!-- Hub Settings Modal -->
<div class="modal-overlay" hidden="" id="hub-settings-modal">
<div aria-describedby="hub-settings-modal-body" aria-labelledby="hub-settings-modal-title" aria-modal="true" class="modal-dialog" role="dialog" tabindex="-1">
<div class="modal-header">
<span class="label" id="hub-settings-modal-title">Hub Settings</span>
</div>
<div class="modal-body" id="hub-settings-modal-body">
<p class="muted small">System-wide settings for Codex Autorunner.</p>
<div class="form-group">
<label>System Update</label>
<select id="hub-update-target">
<option value="both">Web + Telegram</option>
<option value="web">Web only</option>
<option value="telegram">Telegram only</option>
</select>
<button class="primary sm" id="hub-update-btn">Update CAR</button>
<span class="form-hint">Pull latest code and restart selected services</span>
</div>
</div>
<div class="modal-actions">
<button class="ghost" id="hub-settings-close">Close</button>
</div>
</div>
</div>
<!-- Repo Settings Modal -->
<div class="modal-overlay" hidden="" id="repo-settings-modal">
<div aria-describedby="repo-settings-modal-body" aria-labelledby="repo-settings-modal-title" aria-modal="true" class="modal-dialog" role="dialog" tabindex="-1">
<div class="modal-header">
<span class="label" id="repo-settings-modal-title">Repo Settings</span>
</div>
<div class="modal-body" id="repo-settings-modal-body">
<p class="muted small">Settings for the current repository session.</p>
<div class="form-group">
<label>System Update</label>
<select id="repo-update-target">
<option value="both">Web + Telegram</option>
<option value="web">Web only</option>
<option value="telegram">Telegram only</option>
</select>
<button class="primary sm" id="repo-update-btn">Update CAR</button>
<span class="form-hint">Pull latest code and restart selected services</span>
</div>
<div class="form-group">
<label>Autorunner Settings</label>
<div class="settings-grid">
<div>
<label class="muted small" for="autorunner-model-select">Model</label>
<select id="autorunner-model-select"></select>
</div>
<div>
<label class="muted small" for="autorunner-effort-select">Reasoning effort</label>
<select id="autorunner-effort-select"></select>
</div>
<div>
<label class="muted small" for="autorunner-approval-select">Approval policy</label>
<select id="autorunner-approval-select"></select>
</div>
<div>
<label class="muted small" for="autorunner-sandbox-select">Sandbox</label>
<select id="autorunner-sandbox-select"></select>
</div>
<div>
<label class="muted small" for="autorunner-max-runs-input">Max runs</label>
<input id="autorunner-max-runs-input" min="1" placeholder="Unlimited" step="1" type="number"/>
<span class="form-hint">Maximum number of autorunner cycles (empty = unlimited)</span>
</div>
</div>
<div class="settings-toggle-row" id="autorunner-network-row">
<label class="form-checkbox">
<input id="autorunner-network-toggle" type="checkbox"/>
<span>Allow network access in workspace-write mode</span>
</label>
</div>
<div class="settings-actions">
<button class="primary sm" id="autorunner-settings-save">Save settings</button>
<button class="ghost sm" id="autorunner-settings-reload">Reload</button>
</div>
<span class="form-hint warning" id="autorunner-settings-warning">Changing these settings starts a new autorunner conversation.</span>
</div>
<div class="form-group">
<label>Thread Tools</label>
<div class="thread-tools-list" id="thread-tools-list"></div>
<div class="thread-tools-actions">
<button class="ghost sm" id="thread-new-autorunner">New autorunner thread</button>
<button class="ghost sm" id="thread-archive-autorunner">Archive autorunner thread</button>
<button class="danger sm" id="thread-reset-all">Reset all conversations</button>
<button class="ghost sm" id="thread-backup-download">Download backup</button>
</div>
<span class="form-hint">Resetting conversations clears stored thread IDs and restarts chats.</span>
</div>
</div>
<div class="modal-actions">
<button class="ghost" id="repo-settings-close">Close</button>
</div>
</div>
</div>
<div class="modal-overlay" hidden="" id="run-details-modal">
<div aria-describedby="run-details-meta" aria-labelledby="run-details-title" aria-modal="true" class="modal-dialog run-details-modal" role="dialog" tabindex="-1">
<div class="modal-header">
<span class="label" id="run-details-title">Run</span>
</div>
<div class="modal-body">
<div class="muted small" id="run-details-meta">â€“</div>
<div class="run-details-grid">
<div class="run-details-section">
<div class="run-details-title">Completed TODOs</div>
<div class="run-details-list" id="run-details-todos">â€“</div>
</div>
<div class="run-details-section">
<div class="run-details-title">Token breakdown</div>
<div class="run-details-list" id="run-details-tokens">â€“</div>
</div>
</div>
<div class="run-details-section">
<div class="run-details-title">Plan</div>
<pre class="run-details-artifact" id="run-details-plan">â€“</pre>
</div>
<div class="run-details-section">
<div class="run-details-title">Diff</div>
<pre class="run-details-artifact" id="run-details-diff">â€“</pre>
</div>
<div class="run-details-section">
<div class="run-details-title">Final output</div>
<pre class="run-details-artifact" id="run-details-output">â€“</pre>
</div>
</div>
<div class="modal-actions run-details-actions">
<a class="ghost sm" id="run-details-log" rel="noreferrer" target="_blank">Open log</a>
<button class="ghost" id="run-details-close">Close</button>
</div>
</div>
</div>
<script data-car-loader="" src="static/loader.js?v=__CAR_ASSET_VERSION__"></script>
</body>
</html>
